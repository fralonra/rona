<!doctype html><html lang=en><head><title>Repairing partition with input/output error :: Earon — Hail Earendil!</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="After an unclean shutdown, my home partition failed again. Unfortunately, using alternate superblocks didn&amp;rsquo;t help, all of them gave me the following error in the end of the output generated by e2fsck:
Error writing block 1 (input/output error). Ignore error? I ran smartctl -a /dev/xxx, and found this:
# 2 Extended offline Completed: read failure 00% 13771 6960152 A serious problem might had happened. So I did the following:
 Using ddrescue to copy the whole partition to an image."><meta name=keywords content="linux,file system"><meta name=robots content="noodp"><link rel=canonical href=/rona/posts/repairing-partition-with-inputoutput-error/><link rel=stylesheet href=/rona/assets/style.css><link rel=stylesheet href=/rona/assets/green.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=/rona/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/rona/img/favicon/green.png><meta name=twitter:card content="summary"><meta name=twitter:title content="Repairing partition with input/output error :: Earon — Hail Earendil!"><meta name=twitter:description content="After an unclean shutdown, my home partition failed again. Unfortunately, using alternate superblocks didn&amp;rsquo;t help, all of them gave me the following error in the end of the output generated by e2fsck:
Error writing block 1 (input/output error). Ignore error? I ran smartctl -a /dev/xxx, and found this:
# 2 Extended offline Completed: read failure 00% 13771 6960152 A serious problem might had happened. So I did the following:
 Using ddrescue to copy the whole partition to an image."><meta name=twitter:site content="/rona"><meta name=twitter:creator content="Fralonra"><meta name=twitter:image content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Repairing partition with input/output error :: Earon — Hail Earendil!"><meta property="og:description" content="After an unclean shutdown, my home partition failed again. Unfortunately, using alternate superblocks didn&amp;rsquo;t help, all of them gave me the following error in the end of the output generated by e2fsck:
Error writing block 1 (input/output error). Ignore error? I ran smartctl -a /dev/xxx, and found this:
# 2 Extended offline Completed: read failure 00% 13771 6960152 A serious problem might had happened. So I did the following:
 Using ddrescue to copy the whole partition to an image."><meta property="og:url" content="/rona/posts/repairing-partition-with-inputoutput-error/"><meta property="og:site_name" content="Repairing partition with input/output error"><meta property="og:image" content><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2020-02-25 17:07:44 +0800 +0800"></head><body><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>/</div></a></div><div class=menu-trigger>menu</div></div></header><div class=content><div class=post><h1 class=post-title><a href=/rona/posts/repairing-partition-with-inputoutput-error/>Repairing partition with input/output error</a></h1><div class=post-meta><span class=post-date>2020-02-25</span>
<span class=post-author>::
Fralonra</span></div><span class=post-tags>#<a href=/rona/tags/linux/>linux</a>&nbsp;</span><div class=post-content><div><p>After an unclean shutdown, my <code>home</code> partition failed again. Unfortunately, using alternate superblocks didn&rsquo;t help, all of them gave me the following error in the end of the output generated by <code>e2fsck</code>:</p><pre><code>Error writing block 1 (input/output error).  Ignore error?
</code></pre><p>I ran <code>smartctl -a /dev/xxx</code>, and found this:</p><pre><code># 2  Extended offline    Completed: read failure       00%     13771         6960152
</code></pre><p>A serious problem might had happened. So I did the following:</p><ol><li>Using <code>ddrescue</code> to copy the whole partition to an image. I started to work on that backup to avoid doing more damage to the original device.</li><li>Making a loop device using <code>losetup</code>. Besides, an <a href=https://raid.wiki.kernel.org/index.php/Recovering_a_failed_software_RAID#Making_the_harddisks_read-only_using_an_overlay_file>overlay file</a> is a much safer option.</li><li>Trying out methods to fix the issue. I tried <code>e2fsck</code> and it worked for me, without any input/output error.</li></ol><p>After doing three steps above, the only thing I need to do is copying the fixed image back to the partition. Hurray!</p><p>Moral of this story: keep in mind to backup the valuable data all the time.</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button next"><a href=/rona/posts/repairing-a-corrupted-file-system/><span class=button__text>Repairing a corrupted file system</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2020 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=/rona/assets/main.js></script><script src=/rona/assets/prism.js></script></div></body></html>